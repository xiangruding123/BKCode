<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>事件委托优2-target</title>
		<style>
			*{margin:0;padding:0;list-style: none;}
			#list{overflow: hidden;}
			#box li{width:100px;height:100px;line-height:100px;font-size:20px;color:#fff;text-align:center;float: left;margin:10px;background: #ccc;}
		</style>
	</head>
	<body>
		<div id="box">
		    <button id="btn">创建</button>
		    <ul id="list1">
		        <li>111</li>
		        <li>222</li>
		        <li>333</li>
		        <li>444</li>
		    </ul>
		    <ul id="list2">
		        <li>111</li>
		        <li>222</li>
		        <li>333</li>
		        <li>444</li>
		    </ul>
		</div>
		<script>
		    var btn=document.getElementById('btn');
		    var box=document.getElementById('box');
		    var list1=document.getElementById('list1');
		    var lis=box.children;
		    
		    btn.onclick=function(){
		        var oli=document.createElement('li');
		        oli.innerHTML='新建li';
		        list1.appendChild(oli);
		    }
		    
		    box.onclick=function(ev){
		        var e=ev||window.event;
		        var target=e.target||e.srcElement;//获取事件源兼容写法
		        
		        if (e.target.nodeName=='LI'&&e.target.parentNode.id=='list1') {
		            e.target.style.background='green';//此事件可以添加给未来新创建元素
		        }
		        
		        if (e.target.nodeName=='LI'&&e.target.parentNode.id=='list2') {
		            e.target.style.background='red';
		        }
		    }
		</script>
	</body>
</html>
<!-- 事件委托、获取事件源兼容写法、e.target.nodeName=='LI' -->
<!-- 事件委托给父级可以解决未来元素问题 -->